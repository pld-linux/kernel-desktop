--- linux-2.6.31/mm/swapfile.c~ 2009-09-13 09:09:36.506565318 +0200
+++ linux-2.6.31/mm/swapfile.c  2009-09-14 08:14:30.692422596 +0200
@@ -518,6 +518,7 @@
        spin_unlock(&swap_lock);
        return (swp_entry_t) {0};
 }
+EXPORT_SYMBOL_GPL(get_swap_page_of_type);

 static struct swap_info_struct * swap_info_get(swp_entry_t entry)
 {
